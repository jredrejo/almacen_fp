<tr id="row-{{ p.id }}" class="border-b last:border-b-0">
    <td class="p-2">
        {% if p.foto %}<img
            class="h-12 w-12 object-cover rounded"
            src="{{ p.foto.url }}"
        />{% else %}
        <img
            class="h-12 w-12 object-cover rounded"
            src="{% static 'img/placeholder-product.png' %}"
        />
        {% endif %}
    </td>
    <td class="p-2">{{ p.nombre }}</td>
    <td class="p-2 font-mono text-xs">{{ p.epc }}</td>
    <td class="p-2">{{ p.aula.nombre }}</td>
    <td class="p-2">{{ p.estanteria }}</td>
    <td class="p-2">{{ p.posicion }}</td>
    <td class="p-2">{{ p.cantidad }}</td>
    <td class="p-2">
        {% if p.en_prestamo %}
        <span class="text-xs px-2 py-1 rounded bg-amber-100 text-amber-900"
            >Prestado a {{ p.holder.get_full_name|default:p.holder.username
            }}</span
        >
        {% else %}
        <span class="text-xs px-2 py-1 rounded bg-emerald-100 text-emerald-900"
            >En estanter√≠a</span
        >
        {% endif %}
    </td>
    <td class="p-2 text-right space-x-1">
        <a
            class="px-2 py-1 rounded bg-slate-100"
            href="{% url 'product_edit' p.id %}"
            hx-get="{% url 'product_edit' p.id %}"
            hx-target="#row-{{ p.id }}"
            hx-swap="outerHTML"
            >Editar</a
        >
        <form
            class="inline"
            hx-post="{% url 'product_delete' p.id %}"
            hx-target="#row-{{ p.id }}"
            hx-swap="outerHTML"
        >
            {% csrf_token %}
            <button class="px-2 py-1 rounded bg-rose-100 text-rose-900">
                Eliminar
            </button>
        </form>
        {% if not p.en_prestamo %}
        <a
            class="px-2 py-1 rounded bg-amber-100"
            href="{% url 'checkout_take' p.id %}"
            >Tomar</a
        >
        {% else %}
        <a
            class="px-2 py-1 rounded bg-emerald-100"
            href="{% url 'checkout_return' p.id %}"
            >Devolver</a
        >
        {% endif %}
    </td>
</tr>
