{% extends "base.html" %}
{% block title %}Inventario{% endblock %}
{% block content %}
<div class="flex items-center justify-between mb-4">
  <h1 class="text-xl font-semibold">Inventario</h1>
  <a href="{% url 'product_create' %}" class="px-3 py-2 rounded bg-slate-800 text-white">Nuevo producto</a>
</div>

<form method="get" class="mb-3 flex gap-2">
  <input type="text" name="q" value="{{ q }}" placeholder="Buscar nombre / EPC / nº de serie"
         class="border rounded px-3 py-2 w-full">
  <select name="aula" class="border rounded px-3 py-2">
    <option value="">Todas las aulas</option>
    {% for a in aulas %}
      <option value="{{ a.id }}" {% if aula_id|add:'' == a.id|add:'' %}selected{% endif %}>{{ a.nombre }}</option>
    {% endfor %}
  </select>
  <button class="px-3 py-2 rounded bg-slate-100">Filtrar</button>
</form>

<div class="overflow-x-auto bg-white rounded shadow">
  <table class="w-full text-sm">
    <thead class="bg-slate-100 text-slate-700">
      <tr>
        <th class="text-left p-2">Foto</th>
        <th class="text-left p-2">Nombre</th>
        <th class="text-left p-2">EPC</th>
        <th class="text-left p-2">Aula</th>
        <th class="text-left p-2">Estantería</th>
        <th class="text-left p-2">Posición</th>
        <th class="text-left p-2">Cantidad</th>
        <th class="text-left p-2">Estado</th>
        <th class="text-right p-2">Acciones</th>
      </tr>
    </thead>
    <tbody id="inv-body">
      {% for p in productos %}
        {% include "store/_product_row.html" with p=p %}
      {% empty %}
        <tr><td colspan="9" class="p-4 text-center text-slate-500">No hay resultados</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
